// 2023年408真题大题数据

export const essay2023 = [
  {
    id: 41,
    subject: 'ds',
    title: '邻接矩阵K顶点输出',
    score: 15,
    question: `已知有向图G采用邻接矩阵存储，类型定义如下：
typedef struct {
    int numVertices, numEdges;
    char VerticesList[MAXV];
    int Edge[MAXV][MAXV];
} MGraph;

将图中出度大于入度的顶点称为K顶点。设计算法 int printVertices(MGraph G) 对给定任意非空有向图G，输出G中所有K顶点的算法，并返回K顶点的个数。`,
    answer: `【设计思想】
采用邻接矩阵表示有向图时，一行中1的个数为该行对应顶点的出度，一列中1的个数为该列对应顶点的入度。

【算法实现】
int printVertices(MGraph G) {
    int count = 0;
    for (int v = 0; v < numVertices; v++) {
        int indegree = 0, outdegree = 0;
        for (int i = 0; i < numVertices; i++) {
            outdegree += G.Edge[v][i];
            indegree += G.Edge[i][v];
        }
        if (outdegree > indegree) {
            printf("%s ", G.VerticesList[v]);
            count++;
        }
    }
    return count;
}`,
    tags: ['邻接矩阵', '图', '出度入度']
  },
  {
    id: 42,
    subject: 'ds',
    title: '置换选择排序生成归并段',
    score: 8,
    question: `对含有n(n>0)个记录的文件进行外部排序，采用置换-选择排序生成初始归并段时需要使用一个工作区，工作区中能保存m个记录。
(1) 如果文件中有19个记录，其关键字是51,94,37,92,14,63,15,99,48,56,23,60,31,17,43,8,90,166,100；当m=4时，可以生成几个初始归并段，各是什么？
(2) 对任意的m个(n>m>0)，生成的第一个初始归并段的长度最大值和最小值分别是多少？`,
    answer: `(1) 可生成3个初始归并段：
- 37，51，63，92，94，99
- 14，15，23，31，48，56，60，90，166
- 8，17，43，100

(2) 最大值为n，最小值为m。`,
    tags: ['外部排序', '置换选择排序', '归并段']
  },
  {
    id: 43,
    subject: 'co',
    title: 'Cache与虚拟存储管理',
    score: 15,
    question: `已知计算机M字长为32位，按字节编址，采用请求调页策略的虚拟存储管理方式，虚拟地址为32位，页面大小为4KB；数据Cache采用4路组相联映射，数据区大小为8KB，主存块大小为32B。

二维数组a按行优先存放，在虚拟地址空间中分配的起始地址为0042 2000H，sizeof(int)=4。

(1) 数组a分为几个页面存储？对于数组a的访问，会发生几次缺页异常？
(2) 该程序段的数据访问是否具有时间局部性？
(3) 虚拟地址中哪几位用作块内地址？哪几位用作Cache组号？
(4) 数组a占用多少主存块？Cache命中率是多少？`,
    answer: `(1) 数组a分布在2个页面中。缺页异常次数为2。两个页故障地址分别是0042 2000H、0042 3000H。

(2) 该程序段的数据访问没有时间局部性。因为每个数组元素仅访问1次。

(3) 虚拟地址中低5位(A4~A0)用作块内地址；低11位虚拟地址中高6位(A10~A5)用作Cache组号。

(4) 数组a占192个主存块。Cache命中率为87.5%。`,
    tags: ['Cache', '虚拟页式管理', '缺页异常', '局部性']
  },
  {
    id: 44,
    subject: 'co',
    title: '机器级代码分析',
    score: 8,
    question: `分析C程序段在计算机M上的机器级代码，包含指令序号、虚拟地址、机器指令和汇编指令。
(1) 第20条指令的虚拟地址是多少？
(2) jmp和jge指令采用什么寻址方式？
(3) mov指令中源操作数采用什么寻址方式？计算机M采用大端还是小端方式？
(4) 第一次执行第19条指令时，取指令过程中是否会发生缺页异常？`,
    answer: `(1) 第20条指令的虚拟地址为0040 10B9H。

(2) jmp和jge指令都采用相对寻址方式。

(3) 源操作数采用立即数寻址方式。M采用小端方式。

(4) 不会发生缺页异常。因为第19条指令所在的程序段都在页号为00401H的同一个页面中。`,
    tags: ['指令寻址方式', '大小端', '缺页异常']
  },
  {
    id: 45,
    subject: 'os',
    title: 'swap指令实现临界区互斥',
    score: 7,
    question: `现要求学生使用swap指令和布尔型变量lock实现临界区互斥。lock为线程间共享的变量。
(1) 伪代码中哪些语句存在错误？将其改为正确的语句。
(2) newSwap()函数是否可以代替swap指令实现临界区的互斥？为什么？`,
    answer: `(1) 进入区中的语句 if (key == TRUE) swap key，lock 存在错误，修改为 while (key == TRUE) swap key, lock。
退出区中的语句 lock=TRUE 存在错误，修改为 lock=FALSE。

(2) 否。因为多个线程可以并发执行newSwap()，在newSwap()中对lock既有读操作又有写操作，并发执行时不能保证实现两个变量值的原子交换，从而会导致并发执行的线程同时进入临界区。`,
    tags: ['软件互斥算法', 'swap指令', '临界区']
  },
  {
    id: 46,
    subject: 'os',
    title: '键盘输入中断处理',
    score: 8,
    question: `进程P通过执行系统调用从键盘接收一个字符的输入，已知此过程中与进程P相关的操作包括：
①将进程P插入就绪队列；②将进程P插入阻塞队列；③将字符从键盘控制器读入系统缓冲区；④启动键盘中断处理程序；⑤进程P从系统调用返回；⑥用户在键盘上输入字符。

(1) 按照正确的操作顺序，操作①的前一个和后一个操作分别是哪一个？
(2) 在哪个操作之后CPU一定从进程P切换到其他进程？
(3) 完成哪个操作的代码属于键盘驱动程序？
(4) 键盘中断处理程序执行时，进程P处于什么状态？CPU处于什么态？`,
    answer: `(1) 操作①的前一个操作是③，后一个操作是⑤。操作⑥的后一个操作是④。

(2) 在操作②之后CPU一定从进程P切换到其他进程。在操作①之后CPU调度程序才能选中进程P执行。

(3) 完成操作③的代码属于键盘驱动程序。

(4) 进程P处于阻塞状态。CPU处于内核态。`,
    tags: ['中断IO', 'IO软件层次', '用户态和内核态']
  },
  {
    id: 47,
    subject: 'cn',
    title: 'FTP文件传输与TCP拥塞控制',
    score: 9,
    question: `主机H登录到FTP服务器后，向服务器上传一个大小为18000B的文件F，假设H传输F建立数据连接时，选择的初始序号为100，MTU=1000B，拥塞控制的初始阈值是4MSS，RTT=10ms。

(1) FTP的控制连接是持久的还是非持久的？数据连接呢？
(2) H通过数据连接发送F时，F的第一个字节序号是多少？
(3) F发送过程中，当H收到确认序号为2101的确认时，拥塞窗口调整为多少？
(4) H从请求建立数据连接开始，到确认F已被服务器全部接收为止，至少要多长时间？`,
    answer: `(1) FTP的控制连接是持久的；数据连接是非持久的；H登录FTP服务器时，建立的TCP连接是控制连接。

(2) F的第1个字节的序号是101；第二次挥手ACK段的确认序号是18102。

(3) 当H收到确认序号为2101的确认段时，拥塞窗口调整为3MSS；收到确认序号为7101的确认段时，拥塞窗口调整为5MSS。

(4) 至少需要6RTT=60ms；期间应用层数据平均发送速率是2.4Mb/s。`,
    tags: ['FTP', 'TCP四次挥手', 'TCP拥塞控制']
  }
];

export default essay2023;
