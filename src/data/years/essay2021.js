// 2021年408真题大题数据

export const essay2021 = [
  {
    id: 41,
    subject: 'ds',
    title: '判断EL路径存在性',
    score: 15,
    question: `已知无向连通图G由顶点集V和边集E组成，|E|>0，当G中度为奇数的顶点个数为不大于2的偶数时，G存在包含所有边且长度为|E|的路径（称为EL路径）。设图G采用邻接矩阵存储，类型定义如下：
typedef struct {
    int numVertices, numEdges;
    char VerticesList[MAXV];
    int Edge[MAXV][MAXV];
} MGraph;

请设计算法int IsExistEL(MGraph G)，判断G是否存在EL路径，若存在则返回1，否则返回0。`,
    answer: `【设计思想】
对于邻接矩阵存储的无向图，每一行（列）中非零元素的个数为本行（列）对应顶点的度。依次计算各顶点的度，并记录度为奇数的顶点个数，若个数为0或2，则返回1，否则返回0。

【算法实现】
int isExistEL(MGraph G) {
    int count = 0;
    for (int v = 0; v < numVertices; v++) {
        int degree = 0;
        for (int e = 0; e < numEdges; e++) {
            if (Edge[v][e] == 1) degree++;
        }
        if (degree % 2 == 1) count++;
    }
    return (count == 0 || count == 2) ? 1 : 0;
}

时间复杂度O(n²)，空间复杂度O(1)。`,
    tags: ['邻接矩阵', '欧拉路径', '图的度']
  },
  {
    id: 42,
    subject: 'ds',
    title: '计数排序算法分析',
    score: 8,
    question: `已知某排序算法cmpCountSort，请回答：
(1) 若有int a[]={25,-10,25,10,11,19}, b[6];，则调用cmpCountSort(a,b,6)后数组b中的内容是什么？
(2) 若a中含有n个元素，则算法执行过程中，元素之间的比较次数是多少？
(3) 该算法是稳定的吗？若不是，如何修改为稳定排序算法？`,
    answer: `(1) 排序结果为b[6]={-10,10,11,19,25,25}

(2) 由代码for(i=0;i<n-1;i++)和for(j=i+1;j<n;j++)可知，每个元素都与它后面的所有元素比较一次，比较次数为n(n-1)/2。

(3) 不是稳定的。需要将if语句修改为：
if(a[i]<=a[j]) count[j]++;
else count[i]++;

如果不加等号，两个相等的元素比较时，前面元素的count值会加1，导致原序列中靠前的元素在排序后的序列中处于靠后的位置。`,
    tags: ['排序算法', '计数排序', '稳定性']
  },
  {
    id: 43,
    subject: 'co',
    title: '指令格式与寄存器分析',
    score: 13,
    question: `假定计算机M字长为16位，按字节编址，连接CPU和主存的系统总线中地址线为20位、数据线为8位，采用16位定长指令字。
(1) ALU的宽度是多少位？可寻址主存空间大小为多少字节？
(2) R型格式最多可定义多少种操作？通用寄存器最多有多少个？
(3) 若op1为0010和0011时分别表示带符号整数减法和乘法指令，则指令01B2H和01B3H的功能是什么？
(4) 若采用I型格式的访存指令中imm为带符号整数，则地址计算时应对imm进行什么扩展？
(5) 无条件转移指令可以采用哪种指令格式？`,
    answer: `(1) ALU宽度为16位（与字长相同）。地址线20位，可寻址主存空间为2²⁰字节=1MB。
指令寄存器16位，MAR 20位，MDR 8位。

(2) R型格式操作码4位，最多有2⁴=16种操作。
I型和J型格式操作码6位，共享操作码空间，最多有2⁶-1=63种操作。
寄存器编号2位，通用寄存器最多有4个。

(3) 指令01B2H为R型减法指令，功能为R[3]←R[1]-R[2]，结果B04AH，未溢出。
指令01B3H为R型乘法指令，功能为R[3]←R[1]×R[2]，结果8290H，溢出。

(4) 偏移量可正可负，应对imm进行符号扩展。

(5) 无条件转移指令可采用J型格式，将target部分写入PC的低10位完成跳转。`,
    tags: ['指令格式', '操作码', '寄存器']
  },
  {
    id: 44,
    subject: 'co',
    title: 'TLB组相联映射',
    score: 8,
    question: `假设计算机M的主存地址为24位，按字节编址；采用分页存储管理方式，虚拟地址为30位，页大小为4KB；TLB采用2路组相联方式和LRU替换策略，共8组。
(1) 虚拟地址中哪几位表示虚页号？哪几位表示页内地址？
(2) 虚拟地址中哪几位是TLB标记？哪几位是TLB组号？
(3) 假设TLB初始时为空，访问的虚页号依次为10、12、16、7、26、4、12和20，哪一个虚页号对应的TLB表项被替换？
(4) 若将M中的虚拟地址位数增加到32位，则TLB表项的位数增加几位？`,
    answer: `(1) 页面大小4KB=2¹²B，页内地址为12位。
虚拟地址中高30-12=18位表示虚页号，低12位表示页内地址。

(2) TLB采用2路组相联，共8=2³组，用3位标记组号。
虚页号高18-3=15位为TLB标记，虚页号低3位为TLB组号。

(3) 虚页号4对应的TLB表项被替换。
TLB组号=虚页号mod 8，虚页号10,12,16,7,26,4,12,20映射到的TLB组号依次为2,4,0,7,2,4,4,4。
只有4号组的虚页号数量大于2（依次是12,4,12,20），根据LRU策略，访问第20页时，虚页号4被替换。

(4) 虚拟地址增加32-30=2位，虚页号增加2位，TLB标记字段增加2位，每个TLB表项增加2位。`,
    tags: ['TLB', '组相联映射', 'LRU']
  },
  {
    id: 45,
    subject: 'os',
    title: '信号量实现互斥',
    score: 7,
    question: `下表给出了整型信号量S的wait()和signal()操作的功能描述，以及采用开/关中断指令实现信号量操作互斥的两种方法。
(1) 为什么在wait()和signal()操作中对信号量S的访问必须互斥执行？
(2) 分别说明方法1和方法2是否正确。若不正确，请说明理由。
(3) 用户程序能否使用开/关中断指令实现临界区互斥？为什么？`,
    answer: `(1) 信号量S是能被多个进程共享的变量，多个进程都可通过wait()和signal()对S进行读、写操作。所以，wait()和signal()操作中对S的访问必须是互斥的。

(2) 方法1错误。在wait()中，当S≤0时，关中断后，其他进程无法修改S的值，while语句陷入死循环。
方法2正确。方法2在循环体中有一个开中断操作，这样就可以使其他进程修改S的值，从而避免while语句陷入死循环。

(3) 用户程序不能使用开/关中断指令实现临界区互斥。因为开中断和关中断指令都是特权指令，不能在用户态下执行，只能在内核态下执行。`,
    tags: ['信号量', '互斥', '特权指令']
  },
  {
    id: 46,
    subject: 'os',
    title: '系统引导与磁盘格式化',
    score: 8,
    question: `某计算机用硬盘作为启动盘，硬盘第一个扇区存放主引导记录。系统采用多阶段引导方式。
(1) 系统启动过程中操作系统的初始化程序、分区引导程序、ROM中的引导程序、磁盘引导程序的执行顺序是什么？
(2) 把硬盘制作为启动盘时，需要完成操作系统的安装、磁盘的物理格式化、逻辑格式化、对磁盘进行分区，执行这4个操作的正确顺序是什么？
(3) 磁盘扇区的划分和文件系统根目录的建立分别是在第(2)问的哪个操作中完成的？`,
    answer: `(1) 执行顺序依次是：ROM中的引导程序→磁盘引导程序→分区引导程序→操作系统的初始化程序。

(2) 4个操作的执行顺序依次是：磁盘的物理格式化→对磁盘进行分区→逻辑格式化→操作系统的安装。

(3) 磁盘扇区的划分是在磁盘的物理格式化操作中完成的。
文件系统根目录的建立是在逻辑格式化操作中完成的。`,
    tags: ['系统引导', '磁盘格式化', '分区']
  },
  {
    id: 47,
    subject: 'cn',
    title: '交换机与ARP协议',
    score: 9,
    question: `某网络拓扑如图所示，以太网交换机S通过路由器R与Internet互联。在t0时刻H1的ARP表和S的交换表均为空，H1在此刻利用浏览器通过域名www.abc.com请求访问Web服务器，在t1时刻S第一次收到了封装HTTP请求报文的以太网帧。
(1) 从t0到t1期间，H1除了HTTP之外还运行了哪个应用层协议？该协议报文是通过哪些协议进行逐层封装的？
(2) 若S的交换表结构为<MAC地址,端口>，则t1时刻S交换表的内容是什么？
(3) 从t0到t1期间，H2至少会接收到几个与此次Web访问相关的帧？接收到的是什么帧？帧的目的MAC地址是什么？`,
    answer: `(1) 除了HTTP，H1还运行了DNS应用层协议，以将域名转换为IP地址。
逐层封装关系：DNS报文→UDP数据报→IP数据报→CSMA/CD帧。

(2) t1时刻S的交换表内容：
<00-11-22-33-44-cc, 端口4>（H1的MAC地址）
<00-11-22-33-44-bb, 端口1>（本地域名服务器的MAC地址）
<00-11-22-33-44-aa, 端口2>（路由器的MAC地址）

(3) H2至少会接收到2个与此次Web访问相关的帧。
接收到的均是封装ARP查询报文的以太网帧。
这些帧的目的MAC地址均是FF-FF-FF-FF-FF-FF（广播地址）。`,
    tags: ['交换机', 'ARP', 'DNS']
  }
];

export default essay2021;
