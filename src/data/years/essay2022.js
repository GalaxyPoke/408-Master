// 2022年408真题大题数据

export const essay2022 = [
  {
    id: 41,
    subject: 'ds',
    title: '顺序存储二叉树判定BST',
    score: 15,
    question: `已知非空二叉树T的结点值均为正整数，采用顺序存储方式保存，数据结构定义如下：
typedef struct {
    Elemtype SqBiTNode[MAX_SIZE];
    int ElemNum;
} SqBiTree;

T中不存在的结点在数组SqBiTNode中用-1表示。
请设计一个尽可能高效的算法，判定一棵采用这种方式存储的二叉树是否为二叉搜索树，若是则返回true，否则返回false。`,
    answer: `【设计思想】
对于顺序存储的二叉树，根结点在SqBiTNode[0]中；当某结点在SqBiTNode[i]中时，左孩子在SqBiTNode[2i+1]中，右孩子在SqBiTNode[2i+2]中。

二叉搜索树满足：任一结点值大于其左子树中的全部结点值，小于其右子树中的全部结点值。中序遍历二叉搜索树得到一个升序序列。

使用整型变量val记录中序遍历过程中已遍历结点的最大值，初值为负整数。若当前遍历的结点值小于等于val，则返回false，否则更新val为当前结点值。`,
    tags: ['二叉排序树', '顺序存储', '中序遍历']
  },
  {
    id: 42,
    subject: 'ds',
    title: '查找最小的k个数',
    score: 8,
    question: `现有n(n>100000)个数保存在一维数组M中，需要查找M中最小的10个数，请回答下列问题。
(1) 设计一个完成上述查找任务的算法，要求平均情况下的比较次数尽可能少，简单描述其算法思想。
(2) 说明你所设计的算法平均情况下的时间复杂度和空间复杂度。`,
    answer: `【方法1：有序数组法】
定义含10个元素的数组A，初始时元素值均为MAX。
遍历M中的每个元素s，若s<A[9]，丢弃A[9]并将s按升序插入到A中。
时间复杂度O(n)，空间复杂度O(1)。

【方法2：大根堆法】
定义含10个元素的大根堆H，元素值均为MAX。
遍历M中的每个元素s，若s<堆顶元素，删除堆顶并将s插入堆中。
时间复杂度O(nlog10)=O(n)，空间复杂度O(1)。`,
    tags: ['堆', '插入排序', 'TopK问题']
  },
  {
    id: 43,
    subject: 'co',
    title: 'CPU数据通路分析',
    score: 13,
    question: `某CPU中部分数据通路如图所示，其中GPRs为通用寄存器组；FR为标志寄存器。
(1) ALU的输入端A、B及输出端F的最高位分别为A15、B15及F15，FR中的符号标志和溢出标志分别为SF和OF，则SF的逻辑表达式是什么？A加B、A减B时OF的逻辑表达式分别是什么？
(2) 为什么要设置暂存器Y和Z？
(3) 若GPRs的输入端rs、rd分别为所读、写的通用寄存器的编号，则GPRs中最多有多少个通用寄存器？
(4) 取指令阶段的控制信号序列是什么？至少需要几个时钟周期？
(5) 图中控制信号由什么部件产生？`,
    answer: `(1) SF = F15
加运算时OF = A15'·B15'·F15 + A15·B15·F15'
减运算时OF = A15'·B15·F15 + A15·B15'·F15'

(2) 在单总线结构中，每一时刻总线上只有一个数据有效，而ALU有两个输入端和一个输出端。需要暂存器Y缓存一个输入端数据，暂存器Z缓存ALU输出端数据。

(3) rs和rd都是4bit，最多有2^4=16个通用寄存器；rs和rd来自指令寄存器IR；rd应连接地址译码器。

(4) 控制信号序列：①PCout,MARin ②Read ③MDRout,IRin
至少需要7个时钟周期（1+5+1）。

(5) 控制信号由控制部件（CU）产生。指令寄存器IR和标志寄存器FR的输出信号会连到控制部件的输入端。`,
    tags: ['数据通路', '控制器', 'ALU', '标志寄存器']
  },
  {
    id: 44,
    subject: 'co',
    title: '磁盘存储器计算',
    score: 8,
    question: `假设某磁盘驱动器中有4个双面盘片，每个盘面有20000个磁道，每个磁道有500个扇区，每个扇区可记录512字节的数据，盘片转速为7200rpm，平均寻道时间为5ms。
(1) 每个扇区包含数据及地址信息，地址信息分为3个字段，这3个字段的名称是什么？各字段至少占多少位？
(2) 一个扇区的平均访问时间约为多少？
(3) 若采用周期挪用DMA方式进行磁盘与主机之间的数据传送，磁盘控制器中的数据缓冲区大小为64位，则在一个扇区读写过程中，DMA控制器向CPU发送了多少次总线请求？`,
    answer: `(1) 3个字段名称为：柱面号（磁道号）、磁头号（盘面号）、扇区号。
柱面号至少占⌈log₂20000⌉=15位
磁头号至少占log₂(4×2)=3位
扇区号至少占⌈log₂500⌉=9位

(2) 磁盘转一圈时间 = 60×10³/7200 ≈ 8.33ms
平均访问时间 = 平均寻道时间 + 平均延迟时间 + 传输时间
= 5 + 8.33/2 + 8.33/500 ≈ 9.18ms

(3) DMA控制器向CPU发送了512B/64bit = 64次总线请求。
采用周期挪用DMA方式时，DMA控制器可以优先获得总线使用权。`,
    tags: ['磁盘存储器', 'CHS地址', 'DMA']
  },
  {
    id: 45,
    subject: 'os',
    title: '文件系统索引结点',
    score: 7,
    question: `某文件系统的磁盘块大小为4KB，目录项由文件名和索引节点号构成，每个索引节点占256字节，其中包含直接地址项10个，一级、二级和三级间接地址项各1个，每个地址项占4字节。
(1) 目录文件stu中每个目录项的内容是什么？
(2) 文件doc占用的磁盘块的块号x的值是多少？
(3) 若目录文件course的内容已在内存，则打开文件course1并将其读入内存，需要读几个磁盘块？
(4) 若文件course2的大小增长到6MB，为了存取course2需要使用该文件索引节点的哪几级间接地址项？`,
    answer: `(1) 目录文件stu中两个目录项的内容是：<course, 2>和<doc, 10>

(2) 文件doc和文件course1对应的索引结点号都是10，说明它们共享同一个索引结点（硬链接）。course1存储在30号磁盘块，因此x=30。

(3) 需要读2个磁盘块。先读course1的索引结点所在的磁盘块，再读course1的内容所在的磁盘块。

(4) 需要使用一级和二级间接地址项。
6MB需要6MB/4KB=1536个磁盘块
直接地址项可记录10个块号
一级间接地址块可记录4KB/4B=1024个块号
10+1024<1536<10+1024+1024×1024
因此需要一级和二级间接地址项。`,
    tags: ['文件系统', '索引节点', '间接地址']
  },
  {
    id: 46,
    subject: 'os',
    title: '线程同步问题',
    score: 8,
    question: `某进程的两个线程T1和T2并发执行A、B、C、D、E和F共6个操作，其中T1执行A、E和F，T2执行B、C和D。6个操作的执行顺序约束：C在A和B完成后执行，D和E在C完成后执行，F在E完成后执行。
请使用信号量的wait()、signal()操作描述T1和T2之间的同步关系，并说明所用信号量的作用及其初值。`,
    answer: `【信号量定义】
semaphore AC = 0;  // 用于A→C的同步
semaphore CE = 0;  // 用于C→E的同步

【同步关系描述】
T1() {
    A;
    signal(AC);   // A完成，通知C可以执行
    wait(CE);     // 等待C完成
    E;
    F;
}

T2() {
    B;
    wait(AC);     // 等待A完成
    C;
    signal(CE);   // C完成，通知E可以执行
    D;
}`,
    tags: ['线程同步', '信号量', 'PV操作']
  },
  {
    id: 47,
    subject: 'cn',
    title: '网络设备与DHCP',
    score: 9,
    question: `某网络拓扑如图所示，R为路由器，S为以太网交换机，AP是802.11接入点。H1与H2属于同一个广播域但不属于同一个冲突域；H2和H3属于同一个冲突域。
(1) 设备1和设备2应该分别选择哪类设备？
(2) 若信号传播速度为2×10⁸m/s，以太网最小帧长为64B，信号通过设备2时会产生额外的1.51μs的时间延迟，则H2与H3之间可以相距的最远距离是多少？
(3) 在H4通过DHCP动态获取IP地址过程中，H4首先发送了DHCP报文M，M是哪种DHCP报文？
(4) 若H4向H5发送一个IP分组P，则H5收到的封装P的802.11帧的地址1、地址2和地址3分别是什么？`,
    answer: `(1) 设备1选择100BaseT以太网交换机，设备2选择100BaseT集线器。
物理层设备既不能隔离冲突域也不能隔离广播域，链路层设备可以隔离冲突域但不能隔离广播域。

(2) 根据CSMA/CD协议限制条件：
最短帧长 = 总线传播时延 × 数据传输速率 × 2
64×8 = (D/2×10⁸ + 1.51×10⁻⁶) × 100×10⁶ × 2
解得D ≈ 359m

(3) M是DHCP Discover报文（发现报文）。

(4) 地址1：H5的MAC地址
地址2：AP的MAC地址
地址3：H4的MAC地址`,
    tags: ['网络设备', 'CSMA/CD', 'DHCP', '802.11']
  }
];

export default essay2022;
